# PVPSetEffect

장비 세트 효과 시스템을 제공하는 PVP 서버용 마인크래프트 플러그인입니다.

## 개요

PVPSetEffect는 관리자가 커스텀 장비 세트를 생성하고, 플레이어가 세트 아이템을 장착하면 능력치 보너스와 포션 효과를 받을 수 있는 시스템을 제공합니다.

### 주요 기능

- 커스텀 장비 세트 생성 및 관리
- 장착 개수에 따른 단계별 보너스 (1~5개)
- 능력치 보너스 (공격력, 방어력, 회피율, 흡혈 등)
- 포션 효과 보너스
- GUI 기반 세트 설정 시스템
- 실시간 장비 변경 감지

## 요구사항

- **Minecraft 버전:** 1.20.1 이상
- **서버:** Spigot / Paper
- **Java:** 17 이상

## 설치 방법

1. [Releases](https://github.com/your-repo/PVPSetEffect/releases)에서 최신 버전의 JAR 파일을 다운로드합니다.
2. 서버의 `plugins` 폴더에 JAR 파일을 넣습니다.
3. 서버를 재시작합니다.
4. `plugins/PVPSetEffect/config.yml`에서 설정을 커스터마이즈합니다.

## 명령어

| 명령어 | 설명 | 권한 |
|--------|------|------|
| `/세트효과 제작 <세트명>` | 새 세트 효과 생성 | `seteffect.admin` |
| `/세트효과 삭제 <세트명>` | 세트 효과 삭제 | `seteffect.admin` |
| `/세트효과 목록` | 생성된 세트 목록 조회 | `seteffect.admin` |
| `/세트효과 설정 <세트명>` | GUI로 세트 아이템 설정 | `seteffect.admin` |
| `/세트효과 능력 <세트명> <개수> <타입> <값>` | 능력 보너스 추가 | `seteffect.admin` |
| `/세트효과 포션 <세트명> <개수> <타입> <값>` | 포션 보너스 추가 | `seteffect.admin` |
| `/세트효과 능력보기 <세트명>` | 세트의 모든 보너스 확인 | `seteffect.admin` |
| `/세트효과 능력목록` | 사용 가능한 능력 타입 확인 | `seteffect.admin` |
| `/세트효과 포션목록` | 사용 가능한 포션 타입 확인 | `seteffect.admin` |
| `/세트효과 삭제보너스 <세트명> <개수>` | 특정 개수의 보너스 삭제 | `seteffect.admin` |

**명령어 별칭:** `/seteffect`, `/se`

## 권한

| 권한 | 설명 | 기본값 |
|------|------|--------|
| `seteffect.admin` | 모든 세트 효과 관리 권한 | OP |

## 능력 타입

| 능력 | 설명 |
|------|------|
| `공격력` | 추가 공격 데미지 |
| `방어력` | 받는 데미지 감소 |
| `회피율` | 공격 회피 확률 (%) |
| `흡혈력` | 공격 시 체력 회복 |
| `치명타_확률` | 크리티컬 발동 확률 (%) |
| `치명타_데미지` | 크리티컬 추가 데미지 (%) |
| `재생력` | 체력 자연 회복 증가 |
| `체력` | 최대 체력 증가 |

## 포션 타입

| 포션 | 설명 |
|------|------|
| `힘` | 공격력 증가 |
| `신속` | 이동 속도 증가 |
| `재생` | 체력 자연 회복 |
| `저항` | 받는 데미지 감소 |
| `점프강화` | 점프 높이 증가 |
| `야간투시` | 어둠 속 시야 확보 |
| `화염저항` | 화염 데미지 면역 |
| `친수성` | 수중 호흡 |
| `투명` | 투명화 |
| `성급함` | 채굴 속도 증가 |
| `구속` | 이동 속도 감소 |
| `나약함` | 공격력 감소 |
| `피로` | 채굴 속도 감소 |
| `실명` | 시야 감소 |
| `독` | 지속 데미지 |
| `위더` | 위더 데미지 |
| `멀미` | 화면 흔들림 |
| `배고픔` | 허기 증가 |
| `즉시회복` | 즉시 체력 회복 |
| `즉시데미지` | 즉시 데미지 |

## 설정

### config.yml

```yaml
# 재계산 설정
recalculation:
  debounceTicks: 1          # 장비 변경 감지 딜레이 (틱)

# 포션 효과 설정
potion:
  applicationMode: IMMEDIATE  # IMMEDIATE 또는 NATURAL
  durationTicks: 2147483647   # IMMEDIATE 모드 기본 지속시간
  natural:
    effectDuration: 60        # NATURAL 모드 효과 지속시간 (틱)
    reapplyInterval: 40       # 재적용 간격 (틱)

# 전투 설정
combat:
  attackScale: 2.0            # 공격력 스케일 (실제 데미지 = 보너스 / 스케일)
  defenseScale: 2.0           # 방어력 스케일
  evasionMaxPercent: 100.0    # 최대 회피율 (%)
  criticalChanceMaxPercent: 100.0  # 최대 치명타 확률 (%)
  criticalDamageScalePercent: 100.0  # 치명타 데미지 배율 (%)
  lifesteal:
    triggerChance: 0.37       # 흡혈 발동 확률 (0.0~1.0)
    healScale: 2.0            # 흡혈 스케일
  regenScale: 2.0             # 재생력 스케일
  minDamage: 0.0              # 최소 보장 데미지
  healthScale: 1.0            # 체력 스케일

# 메트릭스 설정
metrics:
  intervalMinutes: 5          # 성능 로그 간격 (0 = 비활성화)
```

### 포션 적용 모드

- **IMMEDIATE:** 장비 변경 시 즉시 효과 적용/제거
- **NATURAL:** 효과가 자연스럽게 만료되며, 주기적으로 재적용

## 사용 예시

### 세트 생성 및 설정

```
# 1. 새 세트 생성
/세트효과 제작 전사세트

# 2. GUI로 세트 아이템 설정 (인게임에서 아이템 클릭으로 등록)
/세트효과 설정 전사세트

# 3. 2개 착용 시 보너스 추가
/세트효과 능력 전사세트 2 공격력 5
/세트효과 포션 전사세트 2 힘 1

# 4. 4개 착용 시 보너스 추가
/세트효과 능력 전사세트 4 방어력 10
/세트효과 능력 전사세트 4 회피율 15
/세트효과 포션 전사세트 4 저항 2

# 5. 설정 확인
/세트효과 능력보기 전사세트
```

## 빌드 방법

```bash
./gradlew build
```

빌드된 JAR 파일은 `build/libs/` 폴더에 생성됩니다.

## 라이선스

이 프로젝트는 MIT 라이선스 하에 배포됩니다.

## 개발자

- **Junseo5**
- Discord: Junseo5#3213
